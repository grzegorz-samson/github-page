---
type TimelineItem = {
  label: string;
  date: string;
  status: string;
  statusLabel?: string;
  href?: string;
  hrefLabel?: string;
};

const { items = [] }: { items: TimelineItem[] } = Astro.props;

function statusClass(status: string) {
  if (status === 'done') return 'status-done';
  if (status === 'in-progress') return 'status-progress';
  return 'status-planned';
}
---

<ol class="timeline-list">
  {items.map((item) => (
    <li>
      {item.href ? (
        <a class="timeline-card timeline-card--link" href={item.href}>
          <div class="timeline-copy">
            <h3>{item.label}</h3>
            <p>{item.date}</p>
            <span class="timeline-link">{item.hrefLabel ?? 'Zobacz dokumentacjÄ™'}</span>
          </div>
          <span class={`timeline-status ${statusClass(item.status)}`}>{item.statusLabel ?? item.status}</span>
        </a>
      ) : (
        <div class="timeline-card">
          <div class="timeline-copy">
            <h3>{item.label}</h3>
            <p>{item.date}</p>
          </div>
          <span class={`timeline-status ${statusClass(item.status)}`}>{item.statusLabel ?? item.status}</span>
        </div>
      )}
    </li>
  ))}
</ol>
